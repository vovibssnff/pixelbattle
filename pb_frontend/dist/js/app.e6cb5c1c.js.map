{"version":3,"file":"js/app.e6cb5c1c.js","mappings":"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","sources":["webpack://pb_frontend/./src/App.vue","webpack://pb_frontend/./src/App.vue?7ccd","webpack://pb_frontend/./src/pages/LoginPage.vue","webpack://pb_frontend/./src/components/AppHeader.vue","webpack://pb_frontend/./src/components/AppHeader.vue?1f6a","webpack://pb_frontend/./src/components/VKLoginBtn.vue","webpack://pb_frontend/./src/components/VKLoginBtn.vue?e963","webpack://pb_frontend/./src/pages/LoginPage.vue?3607","webpack://pb_frontend/./src/pages/MainPage.vue","webpack://pb_frontend/./src/components/GLCanvas.vue","webpack://pb_frontend/./src/webgl/glwindow.js","webpack://pb_frontend/./src/webgl/place.js","webpack://pb_frontend/./src/components/GLCanvas.vue?7db3","webpack://pb_frontend/./src/pages/MainPage.vue?ecfc","webpack://pb_frontend/./src/pages/FacultyPage.vue","webpack://pb_frontend/./src/pages/FacultyPage.vue?2c1d","webpack://pb_frontend/./src/store/UserModule.js","webpack://pb_frontend/./src/store/index.js","webpack://pb_frontend/./src/router/router.js","webpack://pb_frontend/./src/main.js","webpack://pb_frontend/webpack/bootstrap","webpack://pb_frontend/webpack/runtime/chunk loaded","webpack://pb_frontend/webpack/runtime/compat get default export","webpack://pb_frontend/webpack/runtime/define property getters","webpack://pb_frontend/webpack/runtime/global","webpack://pb_frontend/webpack/runtime/hasOwnProperty shorthand","webpack://pb_frontend/webpack/runtime/jsonp chunk loading","webpack://pb_frontend/webpack/startup"],"sourcesContent":["<template>\n  <div class=\"app\">\n    <router-view></router-view>\n  </div>\n</template>\n","import { render } from \"./App.vue?vue&type=template&id=2a5c6de3\"\nconst script = {}\n\nimport exportComponent from \"../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <div class=\"login-page\">\n    <app-header/>\n    <v-k-login-btn/>\n  </div>\n\n</template>\n\n<script>\nimport AppHeader from \"@/components/AppHeader.vue\";\nimport VKLoginBtn from \"@/components/VKLoginBtn.vue\";\n\nexport default {\n  components: {AppHeader, VKLoginBtn},\n  beforeCreate() {\n    document.title='Login to Pixelbattle'\n  }\n}\n\n\n</script>\n\n<style scoped>\n\n.login-page {\n  \n  font-size: 18px;  \n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  box-sizing: border-box;\n  position: fixed;\n  background-image: url(\"@/img/paper-bg.jpg\");\n  background-size: cover;\n  transition: all 0.5s ease-in-out;\n  text-align: center;\n  position: absolute;\n  width: 100dvw;\n  height: 100dvh;\n  left: 0;\n  top: 0;\n  padding-inline: 10%;\n}\n</style>","<template>\n  <div class=\"header\">              \n    <h1>Добро пожаловать на Pixelbattle!</h1>\n<!-- <h1>О мудром владении цветами и пергаментом на веб-сайте</h1><br/><br/> -->\n\n<!-- Слушай же, о путник, и ведай, как управляться с волшебной палитрой:\n<br/><br/>\nПКМ — держи перо крепко, дабы узоры чертить.<br/>\nЛКМ — ведай путь свой верно, дабы по холсту странствовать.<br/>\nCTRL + ПКМ — познай цвет истинный, да занеси его в палитру свою.<br/><br/>\n<span>В помощь тебе — <a href=\"https://color-hex.com\">цветная книга мудрецов</a></span><br/>\n<br/>\nВремя течет, как река, и ставить пиксели дозволено лишь раз в три удара сердца.\n<br/> -->\n<br/>\n<br/>\n<br/>\nПусть же рука твоя будет тверда, а дух — неколебим. Веди перо свое, дабы создать творение, коему позавидуют сами небеса!\n\n  </div>\n  \n</template>\n\n<script>\nexport default {\n\n}\n</script>\n\n<style scoped>\n.header {\n  width: 100%;\n}\n\n@font-face {\n  font-family: 'Calligrapher';\n  src: url('@/fonts/calligrapher.ttf') format('truetype');\n}\n\n* {\n  padding: 0;\n  margin: 0;\n  font-family: 'Calligrapher', Times, serif;\n}\n\nh1, h2, h3 {\n  color: #134293;\n  padding-inline: 10%;\n}\n\n@media (max-width: 600px) {\n  .header {\n    font-size: 14px;\n  }\n}\n\na {\n  color: #134293;\n}\n\n.banner {\n  width: 100%;\n  height: auto; /* This ensures the image maintains its aspect ratio */\n  display: block; /* Ensures that the image behaves as a block element */\n}\n</style>","import { render } from \"./AppHeader.vue?vue&type=template&id=605056b0&scoped=true\"\nimport script from \"./AppHeader.vue?vue&type=script&lang=js\"\nexport * from \"./AppHeader.vue?vue&type=script&lang=js\"\n\nimport \"./AppHeader.vue?vue&type=style&index=0&id=605056b0&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-605056b0\"]])\n\nexport default __exports__","<template>\n  <div id=\"VKIDAuthContainer\">\n    <button id=\"VKIDSDKAuthButton\" class=\"VkIdWebSdk__button VkIdWebSdk__button_reset\" @click=\"handleClick\">\n      <div class=\"VkIdWebSdk__button_container\">\n        <div class=\"VkIdWebSdk__button_icon\">\n          <svg width=\"28\" height=\"28\" viewBox=\"0 0 28 28\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n            <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M4.54648 4.54648C3 6.09295 3 8.58197 3 13.56V14.44C3 19.418 3 21.907 4.54648 23.4535C6.09295 25 8.58197 25 13.56 25H14.44C19.418 25 21.907 25 23.4535 23.4535C25 21.907 25\n           19.418 25 14.44V13.56C25 8.58197 25 6.09295 23.4535 4.54648C21.907 3 19.418 3 14.44 3H13.56C8.58197 3 6.09295 3 4.54648 4.54648ZM6.79999 10.15C6.91798 15.8728 9.92951 19.31 14.8932 19.31H15.1812V16.05C16.989 16.2332 18.3371\n           17.5682 18.8875 19.31H21.4939C20.7869 16.7044 18.9535 15.2604 17.8141 14.71C18.9526 14.0293 20.5641 12.3893 20.9436 10.15H18.5722C18.0747 11.971 16.5945 13.6233 15.1803 13.78V10.15H12.7711V16.5C11.305 16.1337 9.39237 14.3538 9.314 10.15H6.79999Z\" fill=\"#134293\"/>\n          </svg>\n        </div>\n        <div class=\"VkIdWebSdk__button_text\">\n          Войти через VK ID\n        </div>\n      </div>\n    </button>\n  </div>\n</template>\n\n<script>\nimport * as VKID from \"@vkid/sdk\";\nimport AppHeader from \"@/components/AppHeader.vue\";\n// import { Connect } from \"@vkontakte/superappkit\";\nimport { mapMutations } from \"vuex\";\nexport default {\n  components: {AppHeader},\n  methods: {\n    ...mapMutations('UserModule', ['setAuthorized']),\n    auth(val) {\n      this.setAuthorized(val);\n    },\n    handleClick() {\n      this.auth('in_progress')\n      VKID.Auth.login();\n    },\n  },\n  beforeMount() {\n    VKID.Config.set({\n      app: 51845999,\n      redirectUrl: 'https://' + window.location.hostname + '/api/login'\n    }); \n    const button = document.getElementById('VKIDSDKAuthButton');\n    if (button) {\n      button.onclick = this.handleClick;\n    }\n  },\n}\n</script>\n\n<style scoped>\n@font-face {\n  font-family: 'Calligrapher';\n  src: url('@/fonts/calligrapher.ttf') format('truetype');\n}\n\n* {\n  padding: 0;\n  margin: 0;\n  font-family: 'Calligrapher', Times, serif;\n}\n\n\n.VkIdWebSdk__button_reset {\n  border: none;\n  margin: 0;\n  padding: 0;\n  width: auto;\n  overflow: visible;\n  background: transparent;\n  color: inherit;\n  font: inherit;\n  line-height: normal;\n  -webkit-font-smoothing: inherit;\n  -moz-osx-font-smoothing: inherit;\n  -webkit-appearance: none;\n}\n\n.VkIdWebSdk__button {\n  background-image: url(\"@/img/button.png\");\n  cursor: pointer;\n  transition: all .1s ease-out;\n  background-repeat: no-repeat;\n  background-size: contain;\n  background-position: center;\n}\n\n.VkIdWebSdk__button:hover{\n  opacity: 0.8;\n}\n\n.VkIdWebSdk__button:active {\n  opacity: .7;\n  transform: scale(.97);\n}\n\n.VkIdWebSdk__button {\n  border-radius: 8px;\n  width: 300px;\n  min-height: 44px;\n}\n\n.VkIdWebSdk__button_container {\n  display: flex;\n  align-items: center;\n  padding: 8px 10px;\n}\n\n.VkIdWebSdk__button_icon + .VkIdWebSdk__button_text {\n  margin-left: -28px;\n}\n\n.VkIdWebSdk__button_icon {\n  padding-top: 3px;\n}\n\n.VkIdWebSdk__button_text {\n  display: flex;\n  /* font-family: -apple-system, system-ui, \"Helvetica Neue\", Roboto, sans-serif; */\n  flex: 1;\n  justify-content: center;\n  font-size: 14px;\n  color: #134293;\n}\n\n#VKIDAuthContainer {\n  margin-top: 10%;\n}\n</style>","import { render } from \"./VKLoginBtn.vue?vue&type=template&id=ff019904&scoped=true\"\nimport script from \"./VKLoginBtn.vue?vue&type=script&lang=js\"\nexport * from \"./VKLoginBtn.vue?vue&type=script&lang=js\"\n\nimport \"./VKLoginBtn.vue?vue&type=style&index=0&id=ff019904&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-ff019904\"]])\n\nexport default __exports__","import { render } from \"./LoginPage.vue?vue&type=template&id=466f932f&scoped=true\"\nimport script from \"./LoginPage.vue?vue&type=script&lang=js\"\nexport * from \"./LoginPage.vue?vue&type=script&lang=js\"\n\nimport \"./LoginPage.vue?vue&type=style&index=0&id=466f932f&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-466f932f\"]])\n\nexport default __exports__","<template>\n  <div>\n    <!-- <app-header/> -->\n    <g-l-canvas/>\n  </div>\n</template>\n\n<script>\n// import AppHeader from \"@/components/AppHeader.vue\";\nimport GLCanvas from \"@/components/GLCanvas.vue\";\n\nexport default {\n  components: {GLCanvas}\n}\n</script>\n\n<style scoped>\n\n</style>","<template>\n  <div oncontextmenu=\"return false;\">\n    <canvas @touchstart=\"onTouchStart\" @mousedown=\"onMouseDown\"\n    @touchend=\"onTouchEnd\" @mousemove=\"coordsUpdate\"\n    @contextmenu=\"() => {return false;}\" id=\"viewport-canvas\"></canvas>\n    <div id=\"ui-wrapper\" hide=\"true\">\n      <p id=\"loading-p\"></p>\n      <div id=\"color-wrapper\">\n        <!-- <div id=\"color-swatch\"></div> -->\n        <div v-for=\"(color, index) in palette\" \n          :key=\"index\" \n          :item=\"color\" \n          @click=\"(ev) => {\n            ev.preventDefault();\n            this.selectSwatch(index);\n          }\" \n          class=\"color-swatch\" \n          :style=\"{ backgroundColor: color }\" \n          ref=\"swatches\" \n        ></div>\n\n        <input @change=\"onChange\" id=\"color-field\" type=\"text\" :placeholder=\"palette[activeSwatch]\" :value=\"palette[activeSwatch]\" />\n        <!-- <input @change=\"onChange\" id=\"color-field\" type=\"text\" placeholder=\"#000000\" value=\"#000000\" /> -->\n      </div>  \n\n      <label for=\"checkbox\" id=\"howto\">?</label>\n      <input hidden type=\"checkbox\" id=\"checkbox\">\n      <label for=\"checkbox\" class=\"modal-overlay\">\n        <div class=\"modal\">\n          <!-- <h1>Добро пожаловать на Pixelbattle!</h1> -->\n<h1>О мудром владении цветами и пергаментом на веб-сайте</h1><br/><br/>\n\nСлушай же, о путник, и ведай, как управляться с волшебной палитрой:\n<br/><br/>\nПКМ — держи перо крепко, дабы узоры чертить.<br/>\nЛКМ — ведай путь свой верно, дабы по холсту странствовать.<br/>\nCTRL + ПКМ — познай цвет истинный, да занеси его в палитру свою.<br/><br/>\n<span>В помощь тебе — <a href=\"https://color-hex.com\">цветная книга мудрецов</a></span><br/>\n<br/>\nВремя течет, как река, и ставить пиксели дозволено лишь раз в три удара сердца.\n<br/>\nПусть же рука твоя будет тверда, а дух — неколебим. Веди перо свое, дабы создать творение, коему позавидуют сами небеса!\n          <label for=\"checkbox\">X</label>\n        </div>\n      </label>\n\n      <div id=\"zoom-wrapper\">\n        <button @click=\"() => {this.zoomOut(1.2);}\" class=\"zoom-button\" id=\"zoom-out\">-</button>\n        <button @click=\"() => {this.zoomIn(1.2);}\" class=\"zoom-button\" id=\"zoom-in\">+</button>\n      </div>\n      <div id=\"cursor-info\">\n        <span id=\"x-coordinate\">{{ Math.floor(this.val_x) }}</span>, <span id=\"y-coordinate\">{{ Math.floor(this.val_y) }}</span>\n      </div>\n      <div id=\"timer\">{{ this.seconds }}\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport GLWindow from '@/webgl/glwindow.js'\nimport Place from '@/webgl/place.js'\n\nexport default {\n  data() {\n    return {\n      val_x: null,\n      val_y: null,\n      pos: null,\n      ws: null,\n      connected: false,\n      colorField: null,\n      colorSwatches: [],\n      cvs: null,\n      glWindow: null,\n      place: null,\n      color: null,\n      dragdown: null,\n      touchID: null,\n      touchScaling: null,\n      lastMovePos: null,\n      lastScalingDist: null,\n      timerRunning: false,\n      seconds: 0,\n      timer: null,\n      secondTimer: null,\n      timerValue: null,\n      palette: [],\n      activeSwatch: 0,\n      loaded: false,\n      savedPixels: [],\n      isGod: null\n    }\n  },\n  created() {\n    this.setViewport();\n  },\n  watch: {\n    loaded(newVal) {\n      if (newVal) {\n        this.renderSavedPIxels();\n        \n      }\n    },\n  },\n  mounted() {\n    document.title='Pixelbattle'\n    this.$data.howToOpen = 0\n\n    this.$data.colorField = document.querySelector(\"#color-field\");\n    this.$data.cvs = document.querySelector(\"#viewport-canvas\");\n    this.$data.timerValue = document.querySelector(\"#timer\");\n    this.$data.cursorInfo = document.querySelector(\"#cursor-info\");\n    this.$data.swatches = document.getElementsByClassName(\"color-swatch\");\n    this.$data.glWindow = new GLWindow(this.$data.cvs);\n    this.$data.place = new Place(this.$data.glWindow, document.querySelector(\"#ui-wrapper\"), document.querySelector(\"#loading-p\"));\n    this.$data.color = new Uint8Array([0, 0, 0]);\n    this.$data.palette = [\"#000000\", \"#FFFFFF\", \"#FF0000\", \"#00FF00\"];\n    if (process.env.NODE_ENV === 'production') {\n      console.log(\"production\")\n      this.initConnection(\"/init_canvas\");\n      this.connectToWebSocket(\"/ws\");\n      this.initEventListeners();\n    } else {\n      console.log(\"dev\")\n      this.loaded = true;\n      this.ws = {}\n      this.ws.send = function() { return; };\n\n      // Create canvas element\n      const canvas = document.createElement('canvas');\n      canvas.width = 100;\n      canvas.height = 200;\n      const ctx = canvas.getContext('2d');\n      const grad=ctx.createLinearGradient(0,0, 280,0);\n      grad.addColorStop(0, \"lightblue\");\n      grad.addColorStop(1, \"darkblue\");\n\n      // Fill rectangle with gradient\n      ctx.fillStyle = grad;\n      ctx.fillRect(0, 0, canvas.width, canvas.height);\n\n      canvas.toBlob(blob => {\n        this.$data.place.setImage(blob);\n      })\n      this.$data.place.loadingp.innerHTML = \"\";\n      this.$data.place.uiwrapper.setAttribute(\"hide\", true);\n      this.$data.isGod = true;\n      this.initEventListeners();\n      \n    }\n    const platform = navigator.platform.toLowerCase();\n    if (/(android|webos|iphone|ipad|ipod|blackberry|windows phone)/.test(platform)) {\n      console.log(\"oh my ... god mobile user\");\n    }\n    // this.setSwatchesArr(this.$refs.swatches);\n    // this.setField(document.querySelector(\"#color-field\"));\n    // window.alert(\"ПКМ - рисование, ЛКМ - навигация, CTRL+ПКМ - копирование цвета в палитру, https://www.color-hex.com/ - в помощь для подбора цветов\");\n  },\n  methods: {\n    selectSwatch(index) {\n      if (this.activeSwatch == index) {\n        return;\n      }\n      try {\n        this.swatches[this.activeSwatch].style.borderWidth = '0';\n        this.swatches[this.activeSwatch].style.width = '30px';\n      } catch{}\n      // console.log(this.activeSwatch);\n      this.activeSwatch = index;\n      this.swatches[this.activeSwatch].style.borderWidth = '2px 3px';\n      this.swatches[this.activeSwatch].style.width = '31px';\n      let hex = this.palette[this.activeSwatch];\n      hex = hex.substring(1, 7);\n      while (hex.length < 6) {\n        hex += \"0\";\n      }\n      // console.log(hex);\n      // console.log(this.color);\n      this.color[0] = parseInt(hex.substring(0, 2), 16);\n      this.color[1] = parseInt(hex.substring(2, 4), 16);\n      this.color[2] = parseInt(hex.substring(4, 6), 16);\n      // this.color = this.palette[this.activeSwatch];\n      // console.log(this.color);\n    },\n    setViewport() {\n      const meta = document.createElement('meta');\n      meta.setAttribute('name', 'viewport');\n      meta.setAttribute('content', 'width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no');\n      document.head.appendChild(meta);\n    },\n    initConnection(endpoint) {\n      this.$data.place.loadingp.innerHTML = \"loading canvas\"\n      fetch(endpoint)\n\t\t\t.then(async resp => {\n\t\t\t\tlet buf = await this.$data.place.downloadProgress(resp);\n\t\t\t\tawait this.$data.place.setImage(buf);\n        this.loaded = true;\n        this.$data.place.loadingp.innerHTML = \"\";\n        this.$data.place.uiwrapper.setAttribute(\"hide\", true);\n        this.$data.isGod = resp.headers.get(\"Is-God\");\n\t\t\t})\n      .catch((error) => {\n        this.$router.push('/login');\n      });\n    },\n    initEventListeners() {\n      document.addEventListener('keydown', this.onKeyDown);\n      document.addEventListener('touchmove', this.onTouchMove);\n      document.addEventListener('mousemove', this.onMouseMove);\n      document.addEventListener(\"mouseup\", () => {\n        this.dragdown = false;\n        document.body.style.cursor = \"auto\";\n      });\n      window.addEventListener('wheel', this.onWheel);\n      window.addEventListener(\"resize\", () => {\n        this.glWindow.updateViewScale();\n        this.glWindow.draw();\n      });\n      // this.cvs.addEventListener('mousedown', this.onMouseDown);\n    },\n    coordsUpdate(ev) {\n      try {\n        this.pos = this.glWindow.click({ x: ev.clientX, y: ev.clientY });\n        this.val_x = this.pos.x;\n        this.val_y = this.pos.y;\n      } catch {\n\n      }\n    },\n    send(x, y, color) {\n      const pixel = {\n          x: Math.floor(x),\n          y: Math.floor(y),\n          color: [color[0], color[1], color[2]],\n        };\n        this.ws.send(JSON.stringify(pixel));\n    },\n    sendPixel(x, y, color) {\n      // console.log(this.isGod);\n      if (this.isGod==\"true\") {\n        this.send(x, y, color);\n        return;\n      }\n      if (!this.timerRunning) {\n        this.timerRunning = true;\n        this.send(x, y, color);\n        \n        this.seconds = 3;\n        this.timerValue.style.opacity = 1;\n        \n        this.timer = setInterval(() => {\n          if (this.seconds > 1) {\n            this.seconds--;\n          } else {\n            clearInterval(this.timer);\n            this.timerRunning = false;\n            this.timerValue.style.opacity = 0;\n          }\n        }, 1000);\n      } else {\n        this.timerValue.style.fontWeight = \"bold\";\n        this.timerValue.style.color = \"firebrick\";\n        this.timerValue.style.fontSize = \"28px\";\n        this.timerValue.style.width = \"30px\";\n        this.timerValue.style.borderColor = \"firebrick\"\n        this.timer\n        clearInterval(this.secondTimer);\n        this.secondTimer = setInterval(() => {\n            // Apply new style which transitions smoothly due to the CSS\n            this.timerValue.style.fontSize = \"16px\";\n            this.timerValue.style.fontWeight = \"normal\";\n            this.timerValue.style.color = \"#134293\";\n            this.timerValue.style.width = \"20px\";\n            this.timerValue.style.borderColor = \"#134293\"\n        }, 1000);\n      }\n    },\n    connectToWebSocket(endpoint) {\n      const url = new URL(endpoint, location.href);\n      url.protocol = 'wss';\n      this.ws = new WebSocket(url);\n      this.ws.addEventListener('message', (event) => {this.handleNewPixel(event)});\n    },\n    handleNewPixel(event) {\n      const pixel = JSON.parse(event.data);\n      \n      if (!this.loaded) {\n        this.savedPixels.push(pixel);\n      } else {\n        this.place.setPixel(pixel.X, pixel.Y, new Uint8Array([pixel.Color[0], pixel.Color[1], pixel.Color[2]]));\n      }\n    },\n    renderSavedPIxels() {\n      for (const pixel of this.savedPixels) {\n        this.place.setPixel(pixel.X, pixel.Y, new Uint8Array([pixel.Color[0], pixel.Color[1], pixel.Color[2]]));\n      }\n      this.savedPixels = [];\n    },\n    onMouseDown(ev) {\n      let self = this;\n      switch (ev.button) {\n        case 0:\n          this.dragdown = true;\n          this.lastMovePos = { x: ev.clientX, y: ev.clientY };\n          break;\n        case 1:\n          ev.preventDefault();\n          self.pickColor({ x: ev.clientX, y: ev.clientY });\n          break;\n        case 2:\n          if (ev.ctrlKey) {\n            ev.preventDefault();\n            self.pickColor({ x: ev.clientX, y: ev.clientY });\n          } else {\n            ev.preventDefault();\n            self.drawPixel({ x: ev.clientX, y: ev.clientY }, this.color);\n          }\n      }\n    },\n    drawPixel(pos, color) {\n      pos = this.glWindow.click(pos);\n      if (pos) {\n        const oldColor = this.glWindow.getColor(pos);\n        for (let i = 0; i < oldColor.length; i++) {\n          if (oldColor[i] != color[i]) {\n            this.sendPixel(pos.x, pos.y, color);\n            return true;\n          }\n        }\n      }\n      return false;\n    },\n    pickColor(pos) {\n      this.color = this.glWindow.getColor(this.glWindow.click(pos));\n      let hex = \"#\";\n      for (let i = 0; i < this.color.length; i++) {\n        let d = this.color[i].toString(16);\n        if (d.length == 1) d = \"0\" + d;\n        hex += d;\n      }\n      this.colorField.value = hex.toUpperCase();\n      var event = new Event('change');\n\n      this.colorField.dispatchEvent(event);\n    },\n    zoomIn(factor) {\n      let zoom = this.glWindow.getZoom();\n      this.glWindow.setZoom(zoom * factor);\n      this.glWindow.draw();\n    },\n    zoomOut(factor) {\n      let zoom = this.glWindow.getZoom();\n      this.glWindow.setZoom(zoom / factor);\n      this.glWindow.draw();\n    },\n    onKeyDown(ev) {\n      switch (ev.keyCode) {\n        case 189:\n        case 173:\n          ev.preventDefault();\n          this.zoomOut(1.2);\n          break;\n        case 187:\n        case 61:\n          ev.preventDefault();\n          this.zoomIn(1.2);\n          break;\n      }\n    },\n    onChange() {\n      let hex = this.colorField.value.replace(/[^A-Fa-f0-9]/g, \"\").toUpperCase();\n      hex = hex.substring(0, 6);\n      while (hex.length < 6) {\n        hex += \"0\";\n      }\n      // console.log(this.color);\n      this.color[0] = parseInt(hex.substring(0, 2), 16);\n      this.color[1] = parseInt(hex.substring(2, 4), 16);\n      this.color[2] = parseInt(hex.substring(4, 6), 16);\n      // console.log(this.color);\n\n      this.palette[this.activeSwatch] = \"#\" + hex;\n      this.colorField.value = this.palette[this.activeSwatch];\n\n      // this.swatches[this.activeSwatch].style.backgroundColor = hex;\n    },\n    onTouchMove(ev) {\n      this.touchID++;\n      if (this.touchScaling && ev.touches.length!=1) {\n        let dist = Math.hypot(\n            ev.touches[0].pageX - ev.touches[1].pageX,\n            ev.touches[0].pageY - ev.touches[1].pageY);\n        if (this.lastScalingDist != null) {\n          let delta = this.lastScalingDist - dist;\n          if (delta < 0) {\n            this.zoomIn(1 + Math.abs(delta) * 0.003);\n          } else {\n            this.zoomOut(1 + Math.abs(delta) * 0.003);\n          }\n        }\n        this.lastScalingDist = dist;\n      } else {\n        try {\n          this.pos = this.glWindow.click({ x: ev.touches[0].clientX, y: ev.touches[0].clientY });\n          this.val_x = this.pos.x;\n          this.val_y = this.pos.y;\n        } catch {}\n        let movePos = { x: ev.touches[0].clientX, y: ev.touches[0].clientY };\n        this.glWindow.move(movePos.x - this.lastMovePos.x, movePos.y - this.lastMovePos.y);\n        this.glWindow.draw();\n        this.lastMovePos = movePos;\n        // console.log(\"ontouchmove\");\n      }\n    },\n    onWheel(ev) {\n      let zoom = this.glWindow.getZoom();\n      if (ev.deltaY > 0) {\n        zoom /= 1.05;\n      } else {\n        zoom *= 1.05;\n      }\n      this.glWindow.setZoom(zoom);\n      this.glWindow.draw();\n    },\n    onMouseMove(ev) {\n      const movePos = { x: ev.clientX, y: ev.clientY };\n      if (this.dragdown) {\n        this.glWindow.move(movePos.x - this.lastMovePos.x, movePos.y - this.lastMovePos.y);\n        this.glWindow.draw();\n        document.body.style.cursor = \"grab\";\n      }\n      this.lastMovePos = movePos;\n    },\n    onTouchStart(ev) {\n      ev.preventDefault();\n      let thisTouch = this.touchID;\n      this.touchstartTime = (new Date()).getTime();\n      this.lastMovePos = { x: ev.touches[0].clientX, y: ev.touches[0].clientY };\n      if (ev.touches.length === 2) {\n        this.touchScaling = true;\n        this.lastScalingDist = null;\n      }\n      setTimeout(() => {\n        if (thisTouch == this.$data.touchID) {\n          this.pickColor(this.lastMovePos);\n          // navigator.vibrate(200);\n        }\n      }, 350);\n    },\n    onTouchEnd(ev) {\n      this.$data.touchID++;\n      let elapsed = (new Date()).getTime() - this.touchstartTime;\n      if (elapsed < 100) {\n        this.drawPixel(this.lastMovePos, this.color);\n      }\n      if (ev.touches.length === 0) {\n        this.touchScaling = false;\n      }\n      // console.log(\"touchend\");\n    }\n  }\n}\n</script>\n\n<style scoped>\n@font-face {\n  font-family: 'Calligrapher';\n  src: url('@/fonts/calligrapher.ttf') format('truetype');\n}\n\n* {\n  padding: 0;\n  margin: 0;\n  font-family: 'Calligrapher', Times, serif;\n}\n\nbody {\n  overflow: hidden;\n  position: fixed;\n  -webkit-overflow-scrolling: touch;\n}\n\n#viewport-canvas {\n  position: absolute;\n  top: 0;\n  left: 0;\n  image-rendering: pixelated;\n  width: 100vw;\n  height: 100vh;\n  background-image: url(\"@/img/bg.jpg\");\n  background-size: cover;\n}\n\n#ui-wrapper {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: #ffffff;\n  transition: background 1s;\n\n  color: black;\n  /* filter: drop-shadow(1px 1px grey); */\n}\n\n#ui-wrapper>#color-wrapper,\n#zoom-wrapper {\n  visibility: hidden;\n}\n\n#ui-wrapper[hide=true] {\n  pointer-events: none;\n  background: none;\n}\n\n#ui-wrapper[hide=true]>#color-wrapper,\n#zoom-wrapper {\n  visibility: visible;\n}\n\n#color-wrapper {\n  position: absolute;\n  bottom: 16px;\n  left: 16px;\n  display: flex;\n  flex-direction: row;\n  width: min-content;\n  border: 2px solid #134293;\n  background-color: #E1DBCE;\n  border-radius: 10px;\n  overflow: hidden;\n}\n\n.color-swatch {\n  width: 30px;\n  height: 30px;\n  background-color: #000000;\n  /* border: px solid #134293; */\n  border-width: 0;\n  border-style: solid;\n  border-color: #134293;\n  cursor: pointer;\n  pointer-events: all;\n  box-sizing: border-box;\n}\n\n.color-swatch:first-of-type {\n  border-width: 2px 3px;\n  width: 31px;\n}\n\n#color-field { \n  font-size: 18px;\n  color: black;\n  height: 30px;\n  line-height: 30px;\n  box-sizing: border-box;\n  margin-left: 6px;\n  border: none;\n  outline: none;\n  pointer-events: all;\n  background-color: transparent; /* Remove white background */\n  width: 8.5ch;\n}\n\n#loading-p {\n\tposition: absolute;\n\ttop: 50%;\n\tleft: 50%;\n\tfont-size: 1.4em;\n\ttransform: translate(-50%, -50%);\n}\n\n#zoom-wrapper {\n  position: absolute;\n  bottom: 16px;\n  right: 16px;\n  border-radius: 10px;\n  border: 2px solid #134293;\n  background-color: #E1DBCE;\n}\n\n.zoom-button {\n  color: #134293;\n  font-family: monospace;\n  width: 30px;\n  height: 30px;\n  border: none;\n  background: none;\n  outline: none;\n  font-size: 24px;\n  cursor: pointer;\n  pointer-events: all;\n  user-select: none;\n}\n\n.zoom-button:first-of-type {\n  border-right: 2px solid #134293\n}\n\n#cursor-info {\n  position: absolute;\n  color: black;\n  background-color: #E1DBCE;\n  padding: 5px;\n  width: 50px;\n  height: 20px;\n  line-height: 20px;\n  text-align: center;\n  border: 2px solid #134293;\n  border-radius: 10px;\n  top: 16px;\n  left: 50%;\n  transform: translateX(-50%);\n  font-size: 16px;\n}\n\n#timer {\n  position: absolute;\n  opacity: 0;\n  pointer-events: none;\n  top: 60px;\n  left: 50%;\n  width: 20px;\n  padding: 5px;\n  color: black;\n  border-radius: 10px;\n  text-align: center;\n  background-color: #E1DBCE;\n  border: 2px solid #134293;\n  transform: translateX(-50%);\n  font-size: 16px;\n  transition: all 0.2s ease-in-out;\n}\n\n#howto {\n  position: absolute;\n  top: 16px;\n  right: 16px;\n  font-size: 16px;\n  text-align: center;\n  border-radius: 10px;\n  background-color: #E1DBCE;\n  border: 2px solid #134293;\n  line-height: 30px;\n  width: 30px;\n  height: 30px;\n  cursor: help;\n  user-select: none;\n  z-index: 1;\n  pointer-events: all;\n}\n\n@media (hover: none) {\n  #help-text-desktop {\n    display: none;\n  }\n\n  #help-text-mobile {\n    display: inline;\n  }\n}\n\n.modal-overlay {\n  position: fixed;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  background-color: rgba(0, 0, 0, 0.5);\n  opacity: 0;\n  pointer-events: none;\n  transition: opacity 0.1s ease-in-out;\n  z-index: 100;\n}\n\n.modal {\n  font-size: 18px;\n  border-radius: 10px;\n  display: flex;\n  flex-direction: column;\n  /* justify-content: center; */\n  padding: 50px;\n  padding-inline: 10%;\n  box-sizing: border-box;\n  position: fixed;\n  top: 50%;\n  left: 50%;\n  width: 90%;\n  transform: translate(-50%, -52%);\n  background-image: url(\"@/img/paper-bg.jpg\");\n  background-size: cover;\n  transition: all 0.5s ease-in-out;\n  border: 2px solid #134293;\n  text-align: center;\n}\n\ninput:checked ~ .modal-overlay {\n  display: block;\n  opacity: 1;\n  pointer-events: auto;\n}\ninput:checked ~ .modal-overlay .modal {\n  transform: translate(-50%, -50%);\n}\n\n.modal-overlay label {\n  position: absolute;\n  right: 16px;\n  top: 16px;\n  color: #134293;\n}\n\nh1, h2, h3 {\n  color: #134293;\n  padding-inline: 10%;\n}\n\n@media (max-width: 600px) {\n  .modal {\n    font-size: 14px;\n  }\n}\n\na {\n  color: #134293;\n}\n</style>","// ***************************************************\n// ***************************************************\n// GLSL code for the vertex shader\n// Scales and rotates the quad\n//\nconst viewportVertexShaderSource = `\n\tprecision mediump float;\n\tattribute vec2 vert;\n\tuniform vec2 cam;\n\tuniform vec2 tex_scale;\n\tuniform vec2 view_scale;\n\tuniform float zoom;\n\tvarying vec2 uv;\n\tvoid main() {\n\t\tuv = vert + 0.5;\n\t\tvec2 pos = ((vert * tex_scale - cam) * zoom) / view_scale;\n\t\tpos += 0.5;\n\t\tpos.y = 1.0 - pos.y;\n\t\tgl_Position = vec4(pos * 2.0 - 1.0, 0.0, 1.0);\n\t}\n`;\n\n// ***************************************************\n// ***************************************************\n// GLSL code for the fragment shader\n// Paints the texture onto the quad\n//\nconst viewportFragmentShaderSource = `\n\tprecision mediump float;\n\tuniform sampler2D tex;\n\tvarying vec2 uv;\n\tvoid main() {\n\t\tgl_FragColor = texture2D(tex, uv);\n\t}\n`;\n\nexport default class GLWindow {\n    cvs;\n    gl;\n    program;\n    tex;\n    texFramebuffer;\n    texScale;\n    camPos;\n    zoom;\n\n    u_cam;\n    u_zoom;\n    u_tex;\n    u_view;\n    a_vert;\n\n    constructor(cvs) {\n        this.cvs = cvs;\n        this.gl = cvs.getContext(\"webgl\");\n        if (this.gl == null) {\n            alert(\"Couldn't get webgl context.\");\n            return;\n        }\n\n        this.texScale = { x: 0, y: 0 };\n        this.camPos = { x: 0, y: 0 };\n        this.zoom = 1;\n\n        const vertexShader = this.compileShader(this.gl.VERTEX_SHADER, viewportVertexShaderSource);\n        const fragmentShader = this.compileShader(this.gl.FRAGMENT_SHADER, viewportFragmentShaderSource);\n\n        this.createProgram(vertexShader, fragmentShader);\n        this.createPosAttribute();\n        this.createUniforms();\n        this.updateViewScale();\n        this.gl.clearColor(0.0, 0.0, 0.0, 0.0);\n    }\n\n    ok() {\n        return this.gl != null;\n    }\n\n    draw() {\n        this.gl.bindFramebuffer(this.gl.FRAMEBUFFER, null);\n        this.gl.clear(this.gl.COLOR_BUFFER_BIT);\n        this.gl.drawArrays(this.gl.TRIANGLES, 0, 6);\n    }\n\n    setTexture(img) {\n        this.tex = this.gl.createTexture();\n        this.gl.bindTexture(this.gl.TEXTURE_2D, this.tex);\n        this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_WRAP_S, this.gl.CLAMP_TO_EDGE);\n        this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_WRAP_T, this.gl.CLAMP_TO_EDGE);\n        this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_MIN_FILTER, this.gl.LINEAR);\n        this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_MAG_FILTER, this.gl.NEAREST);\n        this.gl.texImage2D(this.gl.TEXTURE_2D, 0, this.gl.RGBA, this.gl.RGBA, this.gl.UNSIGNED_BYTE, img);\n        this.texFramebuffer = this.gl.createFramebuffer();\n        this.gl.bindFramebuffer(this.gl.FRAMEBUFFER, this.texFramebuffer);\n        this.gl.framebufferTexture2D(this.gl.FRAMEBUFFER, this.gl.COLOR_ATTACHMENT0, this.gl.TEXTURE_2D, this.tex, 0);\n        this.texScale = { x: img.width, y: img.height };\n        this.gl.uniform2f(this.u_tex, this.texScale.x, this.texScale.y);\n        if (this.cvs.width > this.cvs.height) {\n            this.zoom = this.cvs.width / this.texScale.x;\n        } else {\n            this.zoom = this.cvs.height / this.texScale.y;\n        }\n        this.setZoom(this.zoom);\n    }\n\n    setPixelColor(x, y, color) {\n        let rgba = new Uint8Array(4);\n        rgba[3] = 255;\n        for (let i = 0; i < color.length; i++) {\n            rgba[i] = color[i];\n        }\n        this.gl.texSubImage2D(this.gl.TEXTURE_2D, 0, x, y, 1, 1, this.gl.RGBA, this.gl.UNSIGNED_BYTE, rgba);\n    }\n\n    getColor(pos) {\n        let rgba = new Uint8Array(4);\n        this.gl.bindFramebuffer(this.gl.FRAMEBUFFER, this.texFramebuffer);\n        this.gl.readPixels(pos.x, pos.y, 1, 1, this.gl.RGBA, this.gl.UNSIGNED_BYTE, rgba);\n        return rgba.slice(0, 3);\n    }\n\n    scroll(ev) {\n        this.camPos = { x: ev.target.scrollLeft, y: ev.target.scrollTop };\n        this.gl.uniform2f(this.u_cam, this.camPos.x, this.camPos.y);\n    }\n\n    move(x, y) {\n        this.camPos.x -= x / this.zoom;\n        this.camPos.y -= y / this.zoom;\n        this.gl.uniform2f(this.u_cam, this.camPos.x, this.camPos.y);\n    }\n\n    setZoom(z) {\n        if (z < 0.01) z = 0.01;\n        if (z > 40) z = 40;\n        this.zoom = z;\n        this.gl.uniform1f(this.u_zoom, z);\n    }\n\n    getZoom() {\n        return this.zoom;\n    }\n\n    updateViewScale() {\n        let w = this.cvs.clientWidth;\n        let h = this.cvs.clientHeight;\n        this.cvs.width = w;\n        this.cvs.height = h;\n        this.gl.viewport(0, 0, w, h);\n        this.gl.uniform2f(this.u_view, w, h);\n    }\n\n    click(pos) {\n        pos.x /= this.cvs.width;\n        pos.y /= this.cvs.height;\n\n        let a = {\n            x: ((-0.5 * this.texScale.x - this.camPos.x) * this.zoom) / this.cvs.width + 0.5,\n            y: ((-0.5 * this.texScale.y - this.camPos.y) * this.zoom) / this.cvs.height + 0.5,\n        };\n\n        let b = {\n            x: ((0.5 * this.texScale.x - this.camPos.x) * this.zoom) / this.cvs.width + 0.5,\n            y: ((0.5 * this.texScale.y - this.camPos.y) * this.zoom) / this.cvs.height + 0.5,\n        };\n\n        if (pos.x < a.x || pos.y < a.y || pos.x > b.x || pos.y > b.y) {\n            return;\n        }\n\n        pos = {\n            x: (pos.x - a.x) / (b.x - a.x) * this.texScale.x,\n            y: (pos.y - a.y) / (b.y - a.y) * this.texScale.y,\n        }\n        return pos;\n    }\n\n    toTexCoords(pos) {\n        pos.x = Math.floor(pos.x * this.texScale.x);\n        pos.y = Math.floor(pos.y * this.texScale.y);\n        return pos;\n    }\n\n    createProgram(vertexShader, fragmentShader) {\n        this.program = this.gl.createProgram();\n        this.gl.attachShader(this.program, vertexShader);\n        this.gl.attachShader(this.program, fragmentShader);\n        this.gl.linkProgram(this.program);\n        if (!this.gl.getProgramParameter(this.program, this.gl.LINK_STATUS)) {\n            console.error(this.gl.getProgramInfoLog(this.program));\n            return null;\n        }\n        this.gl.useProgram(this.program);\n    }\n\n    compileShader(type, source) {\n        let shader = this.gl.createShader(type);\n        this.gl.shaderSource(shader, source);\n        this.gl.compileShader(shader);\n        if (!this.gl.getShaderParameter(shader, this.gl.COMPILE_STATUS)) {\n            console.error(this.gl.getShaderInfoLog(shader));\n            this.gl.deleteShader(shader);\n            return null;\n        }\n        return shader;\n    }\n\n    createPosAttribute() {\n        let buffer = this.gl.createBuffer();\n        this.gl.bindBuffer(this.gl.ARRAY_BUFFER, buffer);\n        let positions = [\n            -0.5, -0.5,\n            0.5, -0.5,\n            0.5, 0.5,\n            -0.5, -0.5,\n            0.5, 0.5,\n            -0.5, 0.5,\n        ];\n        this.gl.bufferData(this.gl.ARRAY_BUFFER, new Float32Array(positions), this.gl.STATIC_DRAW);\n        this.a_vert = this.gl.getAttribLocation(this.program, 'vert');\n        this.gl.vertexAttribPointer(this.a_vert, 2, this.gl.FLOAT, false, 0, 0);\n        this.gl.enableVertexAttribArray(this.a_vert);\n    }\n\n    createUniforms() {\n        this.u_cam = this.gl.getUniformLocation(this.program, 'cam');\n        this.u_tex = this.gl.getUniformLocation(this.program, 'tex_scale');\n        this.u_view = this.gl.getUniformLocation(this.program, 'view_scale');\n        this.u_zoom = this.gl.getUniformLocation(this.program, 'zoom');\n    }\n}","export default class Place {\n    loaded;\n    socket;\n    loadingp;\n    uiwrapper;\n    glWindow;\n    allowDraw;\n\n    constructor(glWindow, uiwrapper, loadingp) {\n        this.loaded = false;\n        this.socket = null;\n        this.loadingp = loadingp;\n        this.uiwrapper = uiwrapper;\n        this.glWindow = glWindow;\n        this.allowDraw = true;\n    }\n\n    // initConnection(endpoint) {\n    //     fetch(endpoint)\n\t// \t\t.then(async resp => {\n\t// \t\t\tlet buf = await this.downloadProgress(resp);\n\t// \t\t\tawait this.setImage(buf);\n\t// \t\t});\n    // }\n\n    async downloadProgress(resp) {\n        let len = resp.headers.get(\"Content-Length\");\n\t\tlet a = new Uint8Array(len);\n\t\tlet pos = 0;\n\t\tlet reader = resp.body.getReader();\n\t\twhile (true) {\n\t\t\tlet { done, value } = await reader.read();\n\t\t\tif (value) {\n\t\t\t\ta.set(value, pos);\n\t\t\t\tpos += value.length;\n\t\t\t}\n\t\t\tif (done) break;\n\t\t}\n\t\treturn a;\n    }\n\n    prepare(color) {\n        let b = new Uint8Array(11);\n        for (let i = 0; i < 3; i++) {\n            b[8 + i] = color[i];\n        }\n        return b;\n    }\n\n    setPixel(x, y, color) {\n        let b = new Uint8Array(11);\n        this.putUint32(b.buffer, 0, x);\n        this.putUint32(b.buffer, 4, y);\n        for (let i = 0; i < 3; i++) {\n            b[8 + i] = color[i];\n        }\n        this.glWindow.setPixelColor(x, y, color);\n        this.glWindow.draw();\n    }\n\n    handleSocketSetPixel(b) {\n        if (this.loaded) {\n            let x = this.getUint32(b, 0);\n            let y = this.getUint32(b, 4);\n            let color = new Uint8Array(b.slice(8));\n            this.glWindow.setPixelColor(x, y, color);\n            this.glWindow.draw();\n        }\n    }\n\n    async setImage(data) {\n        let img = new Image();\n        let blob = new Blob([data], { type: \"image/png\" });\n        let blobUrl = URL.createObjectURL(blob);\n        img.src = blobUrl;\n        this.glWindow.setTexture(img);\n        this.glWindow.draw();\n        let promise = new Promise((resolve, reject) => {\n\t\t\timg.onload = () => {\n\t\t\t\tthis.glWindow.setTexture(img);\n\t\t\t\tthis.glWindow.draw();\n\t\t\t\tresolve();\n\t\t\t};\n\t\t\timg.onerror = reject;\n\t\t});\n\t\tawait promise;\n    }\n\n    putUint32(b, offset, n) {\n        let view = new DataView(b);\n        view.setUint32(offset, n, false);\n    }\n\n    getUint32(b, offset) {\n        let view = new DataView(b);\n        return view.getUint32(offset, false);\n    }\n\n    keyPrompt() {\n        let key = prompt(\"This canvas uses a whitelist.\\n\\nIf you don't have a key you can still view the canvas but you will not be able to draw.\\n\\nTo request an access key you can create an issue on the GitHub project.\\n\\nIf you already have one, enter it here.\", \"\");\n        fetch(\"./verifykey?key=\"+key)\n            .then(async resp => {\n                if (resp.ok) {\n                    window.location.reload();\n                } else {\n                    alert(\"Bad key.\")\n                }\n            });\n    }\n}","import { render } from \"./GLCanvas.vue?vue&type=template&id=22bb0418&scoped=true\"\nimport script from \"./GLCanvas.vue?vue&type=script&lang=js\"\nexport * from \"./GLCanvas.vue?vue&type=script&lang=js\"\n\nimport \"./GLCanvas.vue?vue&type=style&index=0&id=22bb0418&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-22bb0418\"]])\n\nexport default __exports__","import { render } from \"./MainPage.vue?vue&type=template&id=ae50bd1e\"\nimport script from \"./MainPage.vue?vue&type=script&lang=js\"\nexport * from \"./MainPage.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <div class=\"faculty-page\">\n    <app-header/>\n    <h2>Выберите факультет: </h2>\n    <form action=\"/api/faculty\" class=\"form-container\">\n      <div class=\"radio-container\">\n        <label class=\"radio-label\">\n        <input type=\"radio\" name=\"faculty\" value=\"KTU\" required> КТУ\n        </label>\n        <label class=\"radio-label\">\n          <input type=\"radio\" name=\"faculty\" value=\"TINT\"> ТИНТ\n        </label>\n        <label class=\"radio-label\">\n          <input type=\"radio\" name=\"faculty\" value=\"FTMF\"> ФТМФ\n        </label>\n        <label class=\"radio-label\">\n          <input type=\"radio\" name=\"faculty\" value=\"FTMI\"> ФТМИ\n        </label>\n        <label class=\"radio-label\">\n          <input type=\"radio\" name=\"faculty\" value=\"NOZH\"> НОЖ\n        </label>\n      </div>\n      <button type=\"submit\" class=\"send-button\">Подтвердить</button>\n    </form>\n  </div>\n</template>\n\n<script>\nimport AppHeader from \"@/components/AppHeader.vue\";\n\nexport default {\n  components: {AppHeader},\n  mounted() {\n    document.title='Choose your faculty'\n  }\n}\n</script>\n\n<style scoped>\n.faculty-page {\n  \n  font-size: 18px;  \n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  box-sizing: border-box;\n  position: fixed;\n  background-image: url(\"@/img/paper-bg.jpg\");\n  background-size: cover;\n  transition: all 0.5s ease-in-out;\n  text-align: center;\n  position: absolute;\n  width: 100dvw;\n  height: 100dvh;\n  left: 0;\n  top: 0;\n  padding-inline: 10%;\n}\n\ninput[type=\"radio\"] {\n  /* display: none; */\n  /* appearance: none; */\n  background-color: #134293;\n}\n/* \ninput[type=\"radio\"] + label {\n  border-color: black;\n  border-radius: 5px;\n} */\n\n/* label:before {\n\tcontent: \"\";\n\tdisplay: inline-block;\n\twidth: 17px;\n\theight: 18px;\n\tposition: absolute;\n\tleft: -40px;\n\tbottom: -2px;\n\tbackground-color: transparent;\n  border: 2px solid #134293;\n  border-radius: 20%;\n} */\n\nlabel {\n  color: #134293;\n  position: relative;\n}\n\ninput[type=\"radio\"]:checked ~ label {\n  background-color: #bbb;\n}\n\n.form-container {\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  /* justify-content: center; */\n  margin-top: 20px; /* Adjust this value as needed */\n  transition: background 1s;\n  /* filter: drop-shadow(1px 1px grey); */\n  font-family: Arial, sans-serif;\n}\n\n.radio-container {\n  display: flex;\n  align-items: center;\n  flex-direction: column;\n}\n\n.radio-label {\n  margin-bottom: 10px;\n  font-size: 16px;\n}\n\n.send-button {\n  border: 0;\n  \n  background-image: url(\"@/img/button.png\");\n  cursor: pointer;\n  transition: all .1s ease-out;\n  background-repeat: no-repeat;\n  background-size: contain;\n  background-position: center;\n  height: 40px;\n  width: 400px;\n  background-color: transparent;\n  color: #134293;\n}\n\n.send-button:hover {\n  color: #134293;\n}\n\n* {\n  font-family: 'Calligrapher';\n  text-align: center;\n}\n\nh2 {\n  margin: 0;\n  margin-top: 30px;\n  color: #134293;\n}\n</style>\n","import { render } from \"./FacultyPage.vue?vue&type=template&id=2f5e0fe4&scoped=true\"\nimport script from \"./FacultyPage.vue?vue&type=script&lang=js\"\nexport * from \"./FacultyPage.vue?vue&type=script&lang=js\"\n\nimport \"./FacultyPage.vue?vue&type=style&index=0&id=2f5e0fe4&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-2f5e0fe4\"]])\n\nexport default __exports__","const state = {\n    isAuthorized: false,\n    id: null\n}\n\nconst getters = {\n    getAuthorized: (state) => state.isAuthorized,\n    getID: (state) => state.id,\n}\n\nconst mutations = {\n    setAuthorized(state, authorized) {\n        state.isAuthorized = authorized\n    },\n    setID(state, id) {\n        state.id = id\n    }\n}\n\nexport default {\n    namespaced: true,\n    state, \n    getters,\n    mutations\n}","import { createStore } from 'vuex';\nimport UserModule from './UserModule';\n\nexport default createStore({\n  modules: {\n    UserModule,\n  }\n});\n","import LoginPage from \"@/pages/LoginPage.vue\";\nimport MainPage from \"@/pages/MainPage.vue\";\nimport FacultyPage from \"@/pages/FacultyPage.vue\"\nimport { createRouter, createWebHistory } from \"vue-router\";\nimport store from \"@/store\"\n\nconst routes = [\n  {\n    path: '/',\n    name: 'home',\n    component: MainPage,\n  },\n  {\n    path: '/main',\n    name: 'main',\n    component: MainPage,\n  },\n  {\n    path: '/login',\n    name: 'login',\n    component: LoginPage\n  },\n  {\n    path: '/faculty',\n    name: 'faculty',\n    component: FacultyPage\n  }\n];\n\nconst router = createRouter({\n  routes,\n  history: createWebHistory(process.env.BASE_URL)\n});\n\n// router.beforeEach((to, from, next) => {\n\n//   if (to.name == 'faculty' && store.geters[\"UserModule/getAuthorized\"]==\"in_progress\") {\n//     next('faculty');\n//   } else if (to.name !== 'login' && !store.getters[\"UserModule/getAuthorized\"]) {\n//     next('/login');\n//   } else {\n//     next();\n//   }\n// });\n\nexport default router;","import App from \"@/App.vue\";\nimport router from \"@/router/router\";\nimport { createApp } from 'vue';\nimport store from \"@/store\";\n\nconst app = createApp(App)\n\napp\n    .use(store)\n    .use(router)\n    .mount('#app')","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t524: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkpb_frontend\"] = self[\"webpackChunkpb_frontend\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [504], function() { return __webpack_require__(298); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["class","_createElementBlock","_hoisted_1","_createVNode","_component_router_view","script","__exports__","render","_component_app_header","_component_v_k_login_btn","_createElementVNode","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_createTextVNode","id","_createStaticVNode","onClick","_cache","args","$options","handleClick","components","AppHeader","methods","mapMutations","auth","val","this","setAuthorized","VKID","login","beforeMount","set","app","redirectUrl","window","location","hostname","button","document","getElementById","onclick","VKLoginBtn","beforeCreate","title","_component_g_l_canvas","oncontextmenu","hide","onTouchstart","onTouchStart","onMousedown","onMouseDown","onTouchend","onTouchEnd","onMousemove","coordsUpdate","onContextmenu","_Fragment","_renderList","$data","palette","color","index","key","item","ev","preventDefault","selectSwatch","style","_normalizeStyle","backgroundColor","ref_for","ref","onChange","type","placeholder","activeSwatch","value","_hoisted_6","_hoisted_7","_hoisted_10","zoomOut","zoomIn","_hoisted_11","_hoisted_12","_toDisplayString","Math","floor","val_x","_hoisted_13","val_y","_hoisted_14","seconds","viewportVertexShaderSource","viewportFragmentShaderSource","GLWindow","constructor","cvs","_defineProperty","gl","getContext","alert","texScale","x","y","camPos","zoom","vertexShader","compileShader","VERTEX_SHADER","fragmentShader","FRAGMENT_SHADER","createProgram","createPosAttribute","createUniforms","updateViewScale","clearColor","ok","draw","bindFramebuffer","FRAMEBUFFER","clear","COLOR_BUFFER_BIT","drawArrays","TRIANGLES","setTexture","img","tex","createTexture","bindTexture","TEXTURE_2D","texParameteri","TEXTURE_WRAP_S","CLAMP_TO_EDGE","TEXTURE_WRAP_T","TEXTURE_MIN_FILTER","LINEAR","TEXTURE_MAG_FILTER","NEAREST","texImage2D","RGBA","UNSIGNED_BYTE","texFramebuffer","createFramebuffer","framebufferTexture2D","COLOR_ATTACHMENT0","width","height","uniform2f","u_tex","setZoom","setPixelColor","rgba","Uint8Array","i","length","texSubImage2D","getColor","pos","readPixels","slice","scroll","target","scrollLeft","scrollTop","u_cam","move","z","uniform1f","u_zoom","getZoom","w","clientWidth","h","clientHeight","viewport","u_view","click","a","b","toTexCoords","program","attachShader","linkProgram","getProgramParameter","LINK_STATUS","console","error","getProgramInfoLog","useProgram","source","shader","createShader","shaderSource","getShaderParameter","COMPILE_STATUS","getShaderInfoLog","deleteShader","buffer","createBuffer","bindBuffer","ARRAY_BUFFER","positions","bufferData","Float32Array","STATIC_DRAW","a_vert","getAttribLocation","vertexAttribPointer","FLOAT","enableVertexAttribArray","getUniformLocation","Place","glWindow","uiwrapper","loadingp","loaded","socket","allowDraw","downloadProgress","resp","len","headers","get","reader","body","getReader","done","read","prepare","setPixel","putUint32","handleSocketSetPixel","getUint32","setImage","data","Image","blob","Blob","blobUrl","URL","createObjectURL","src","promise","Promise","resolve","reject","onload","onerror","offset","n","view","DataView","setUint32","keyPrompt","prompt","fetch","then","async","reload","ws","connected","colorField","colorSwatches","place","dragdown","touchID","touchScaling","lastMovePos","lastScalingDist","timerRunning","timer","secondTimer","timerValue","savedPixels","isGod","created","setViewport","watch","newVal","renderSavedPIxels","mounted","howToOpen","querySelector","cursorInfo","swatches","getElementsByClassName","log","initConnection","connectToWebSocket","initEventListeners","platform","navigator","toLowerCase","test","borderWidth","hex","substring","parseInt","meta","createElement","setAttribute","head","appendChild","endpoint","innerHTML","buf","catch","$router","push","addEventListener","onKeyDown","onTouchMove","onMouseMove","cursor","onWheel","clientX","clientY","send","pixel","JSON","stringify","sendPixel","fontWeight","fontSize","borderColor","clearInterval","setInterval","opacity","url","href","protocol","WebSocket","event","handleNewPixel","parse","X","Y","Color","self","pickColor","ctrlKey","drawPixel","oldColor","d","toString","toUpperCase","Event","dispatchEvent","factor","keyCode","replace","touches","dist","hypot","pageX","pageY","delta","abs","movePos","deltaY","thisTouch","touchstartTime","Date","getTime","setTimeout","elapsed","GLCanvas","state","isAuthorized","getters","getAuthorized","getID","mutations","authorized","setID","namespaced","createStore","modules","UserModule","routes","path","name","component","MainPage","LoginPage","FacultyPage","router","createRouter","history","createWebHistory","process","createApp","App","use","store","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","call","m","deferred","O","result","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","Object","keys","every","splice","r","getter","__esModule","definition","o","defineProperty","enumerable","g","globalThis","Function","e","obj","prop","prototype","hasOwnProperty","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","forEach","bind","__webpack_exports__"],"sourceRoot":""}